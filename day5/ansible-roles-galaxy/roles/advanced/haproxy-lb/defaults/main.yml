---
# Default variables for HAProxy Load Balancer Role

# Package and service names
haproxy_package_name: haproxy
haproxy_service_name: haproxy
haproxy_user: haproxy
haproxy_group: haproxy

# Configuration paths
haproxy_config_dir: /etc/haproxy
haproxy_config_file: /etc/haproxy/haproxy.cfg
haproxy_socket_dir: /run/haproxy
haproxy_ssl_dir: /etc/haproxy/ssl

# Frontend configuration
haproxy_bind_address: "0.0.0.0"
haproxy_frontend_port: 80
haproxy_frontend_name: "frontend_http"

# Backend configuration
haproxy_backend_name: "backend_servers"
haproxy_balance_algorithm: "roundrobin"  # roundrobin, leastconn, source, uri

# Backend servers list
# Format: { name: "web1", address: "192.168.1.10", port: 80, check: true }
haproxy_backend_servers: []

# Health check configuration
haproxy_health_check_enabled: true
haproxy_health_check_interval: "3s"
haproxy_health_check_timeout: "2s"
haproxy_health_check_rise: 2
haproxy_health_check_fall: 3

# Connection limits
haproxy_maxconn: 4096
haproxy_backend_maxconn: 2048

# Timeouts
haproxy_timeout_connect: "5s"
haproxy_timeout_client: "50s"
haproxy_timeout_server: "50s"

# SSL/TLS configuration
haproxy_ssl_enabled: false
haproxy_ssl_port: 443
haproxy_ssl_certificate_name: "haproxy.pem"
haproxy_ssl_certificate_local_path: ""  # Path to local certificate file
haproxy_ssl_redirect_http: true  # Redirect HTTP to HTTPS

# Stats page configuration
haproxy_stats_enabled: true
haproxy_stats_port: 8080
haproxy_stats_uri: "/stats"
haproxy_stats_refresh: "30s"
haproxy_stats_username: "admin"
haproxy_stats_password: "changeme"
haproxy_stats_admin: true

# Logging
haproxy_log_enabled: true
haproxy_log_address: "/dev/log"
haproxy_log_facility: "local0"
haproxy_log_level: "info"

# Firewall configuration
haproxy_configure_firewall: true

# Advanced options
haproxy_options:
  - "httplog"
  - "dontlognull"
  - "forwardfor"
  - "http-server-close"

haproxy_compression_enabled: true
haproxy_compression_types:
  - "text/html"
  - "text/plain"
  - "text/css"
  - "text/javascript"
  - "application/javascript"
  - "application/json"

# Custom configuration snippets
haproxy_custom_global: ""
haproxy_custom_defaults: ""
haproxy_custom_frontend: ""
haproxy_custom_backend: ""
