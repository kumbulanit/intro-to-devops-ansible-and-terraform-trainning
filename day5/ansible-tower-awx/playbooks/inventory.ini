# Inventory for Existing OpenStack Instance
# Update the IP address and SSH key path to match your OpenStack instance

[openstack_instance]
openstack-server ansible_host=YOUR_OPENSTACK_IP ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/id_rsa

# Group assignments for different roles on the same server
[awx_servers]
openstack-server

[database_servers]
openstack-server

[web_servers]
openstack-server

[load_balancers]
openstack-server

# All servers group
[all_servers:children]
awx_servers
database_servers
web_servers
load_balancers

[all_servers:vars]
ansible_python_interpreter=/usr/bin/python3
ansible_ssh_common_args='-o StrictHostKeyChecking=no'

# Variables for AWX installation
[awx_servers:vars]
awx_version=24.3.1
awx_admin_user=admin
awx_admin_password=AWXAdminPassword123!
awx_install_dir=/opt/awx
postgres_password=AWXPostgresPass123!

# Variables for Database configuration
[database_servers:vars]
db_name=webapp_db
db_user=webapp_user
db_password=WebAppDBPass123!
db_port=5432

# Variables for Web servers
[web_servers:vars]
app_name=webapp
app_port=8081
app_dir=/var/www/webapp

# Variables for Load Balancer
[load_balancers:vars]
lb_frontend_port=80
lb_backend_port=8081
haproxy_stats_port=8404
haproxy_stats_user=admin
haproxy_stats_password=HAProxyStatsPassword123!
